<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìä Fitbit „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</title>
    <link rel="stylesheet" href="/css/style.css?v=20250619-fix">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="dashboard-body">
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="header-content">
                <h1 class="dashboard-title">
                    <i class="fas fa-tachometer-alt"></i>
                    „Éò„É´„Çπ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
                </h1>
                
                <div class="user-info" id="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <div class="user-name" id="user-name">Ë™≠„ÅøËæº„Åø‰∏≠...</div>
                        <div class="last-sync" id="last-sync">ÂêåÊúü‰∏≠...</div>
                    </div>
                    <button class="btn btn-outline logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        „É≠„Ç∞„Ç¢„Ç¶„Éà
                    </button>
                </div>
            </div>
        </header>

        <main class="dashboard-main">
            <!-- ‰ªäÊó•„ÅÆ„Çµ„Éû„É™„Éº -->
            <section class="summary-section">
                <h2 class="section-title">
                    <i class="fas fa-calendar-day"></i>
                    ‰ªäÊó•„ÅÆÊ¥ªÂãï
                </h2>
                
                <div class="summary-grid" id="today-summary">
                    <div class="summary-card loading">
                        <div class="card-icon">
                            <i class="fas fa-walking"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">Ê≠©Êï∞</div>
                            <div class="card-value" id="steps-value">---</div>
                            <div class="card-subtitle">Ê≠©</div>
                        </div>
                    </div>
                    
                    <div class="summary-card loading">
                        <div class="card-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">Ê∂àË≤ª„Ç´„É≠„É™„Éº</div>
                            <div class="card-value" id="calories-value">---</div>
                            <div class="card-subtitle">kcal</div>
                        </div>
                    </div>
                    
                    <div class="summary-card loading">
                        <div class="card-icon">
                            <i class="fas fa-route"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">ÁßªÂãïË∑ùÈõ¢</div>
                            <div class="card-value" id="distance-value">---</div>
                            <div class="card-subtitle">km</div>
                        </div>
                    </div>
                    
                    <div class="summary-card loading">
                        <div class="card-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÊôÇÈñì</div>
                            <div class="card-value" id="active-minutes-value">---</div>
                            <div class="card-subtitle">ÂàÜ</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ÂøÉÊãçÊï∞„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <section class="heartrate-section">
                <h2 class="section-title">
                    <i class="fas fa-heartbeat"></i>
                    ÂøÉÊãçÊï∞
                </h2>
                
                <div class="heartrate-container">
                    <div class="heartrate-summary" id="heartrate-summary">
                        <div class="resting-hr">
                            <div class="hr-label">ÂÆâÈùôÊôÇÂøÉÊãçÊï∞</div>
                            <div class="hr-value" id="resting-hr-value">--</div>
                            <div class="hr-unit">bpm</div>
                        </div>
                    </div>
                    
                    <div class="heartrate-zones" id="heartrate-zones">
                        <!-- ÂøÉÊãçÊï∞„Çæ„Éº„É≥„ÅåÂãïÁöÑ„Å´ËøΩÂä†„Åï„Çå„Çã -->
                    </div>
                </div>
            </section>

            <!-- Áù°Áú†„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <section class="sleep-section">
                <h2 class="section-title">
                    <i class="fas fa-bed"></i>
                    Áù°Áú†
                </h2>
                
                <div class="sleep-container" id="sleep-container">
                    <div class="sleep-summary loading">
                        <div class="sleep-stat">
                            <div class="stat-label">Áù°Áú†ÊôÇÈñì</div>
                            <div class="stat-value" id="sleep-duration">---</div>
                        </div>
                        <div class="sleep-stat">
                            <div class="stat-label">Áù°Áú†ÂäπÁéá</div>
                            <div class="stat-value" id="sleep-efficiency">---%</div>
                        </div>
                        <div class="sleep-stat">
                            <div class="stat-label">ÂÖ•Áú†ÊôÇÈñì</div>
                            <div class="stat-value" id="sleep-start">--:--</div>
                        </div>
                        <div class="sleep-stat">
                            <div class="stat-label">Ëµ∑Â∫äÊôÇÈñì</div>
                            <div class="stat-value" id="sleep-end">--:--</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ÈÄ±Èñì„Éà„É¨„É≥„Éâ -->
            <section class="trends-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i>
                    ÈÄ±Èñì„Éà„É¨„É≥„Éâ
                </h2>
                
                <div class="trends-container">
                    <div class="chart-tabs">
                        <button class="tab-btn active" data-chart="steps">Ê≠©Êï∞</button>
                        <button class="tab-btn" data-chart="calories">„Ç´„É≠„É™„Éº</button>
                        <button class="tab-btn" data-chart="sleep">Áù°Áú†</button>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="trendsChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- „Éá„Éê„Ç§„ÇπÊÉÖÂ†± -->
            <section class="devices-section">
                <h2 class="section-title">
                    <i class="fas fa-mobile-alt"></i>
                    Êé•Á∂ö„Éá„Éê„Ç§„Çπ
                </h2>
                
                <div class="devices-container" id="devices-container">
                    <div class="loading-message">
                        <i class="fas fa-spinner fa-spin"></i>
                        „Éá„Éê„Ç§„ÇπÊÉÖÂ†±„ÇíÂèñÂæó‰∏≠...
                    </div>
                </div>
            </section>

            <!-- „Éá„Éê„ÉÉ„Ç∞„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <section class="debug-section" id="debug-section">
                <div class="debug-header">
                    <h3><i class="fas fa-bug"></i> „Éá„Éê„ÉÉ„Ç∞„É≠„Ç∞</h3>
                    <div class="debug-controls">
                        <button class="btn btn-outline btn-sm" id="clear-debug">„ÇØ„É™„Ç¢</button>
                        <button class="btn btn-outline btn-sm" id="copy-debug">„Ç≥„Éî„Éº</button>
                        <button class="btn btn-outline btn-sm" id="toggle-debug">ÈùûË°®Á§∫</button>
                    </div>
                </div>
                <div class="debug-content" id="debug-content">
                    <div class="debug-log">„Éá„Éê„ÉÉ„Ç∞„É≠„Ç∞„ÇíÊ∫ñÂÇô‰∏≠...</div>
                </div>
            </section>
        </main>
    </div>

    <!-- „Ç®„É©„Éº„É¢„Éº„ÉÄ„É´ -->
    <div class="modal" id="error-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-exclamation-triangle"></i> „Ç®„É©„Éº</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="error-message">
                „Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="error-ok">OK</button>
            </div>
        </div>
    </div>

    <script src="/js/dashboard.js?v=20250619-fix"></script>
</body>
</html>